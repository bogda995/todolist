(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&e(c)}).observe(document,{childList:!0,subtree:!0});function s(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function e(t){if(t.ep)return;t.ep=!0;const a=s(t);fetch(t.href,a)}})();function l(o,n=!1,s=!1){const e=document.createElement("li");e.className="list-group-item d-flex align-items-center",e.innerHTML=`
  <input type="checkbox" class="form-check-input me-2" ${n?"checked":""}>
  <span class="task-text">${o}</span>
  <div class="button-container">
    <button class="btn btn-danger btn-sm delete-btn">Delete</button>
    <button class="btn btn-secondary btn-sm edit-btn">Edit</button>
  </div>
`;const t=e.querySelector(".form-check-input");return t.addEventListener("change",()=>{t.checked?m(e,s):f(e,s)}),e.querySelector(".delete-btn").addEventListener("click",()=>{e.remove(),i()}),e.querySelector(".edit-btn").addEventListener("click",()=>{d(e)}),e}function d(o){const n=o.querySelector(".task-text"),s=document.createElement("input");s.type="text",s.className="form-control",s.value=n.textContent||"",o.replaceChild(s,n),s.focus();const e=k(o,s,n);o.replaceChild(e,o.querySelector(".edit-btn")),s.addEventListener("keypress",t=>{t.key==="Enter"&&e.click()})}function k(o,n,s){const e=document.createElement("button");return e.className="btn btn-primary btn-sm ms-2",e.textContent="Save",e.addEventListener("click",()=>{const t=n.value.trim();if(t!==""){s.textContent=t,o.replaceChild(s,n);const a=p();o.replaceChild(a,e),a.addEventListener("click",()=>d(o)),i()}}),e}function p(){const o=document.createElement("button");return o.className="btn btn-secondary btn-sm ms-2 edit-btn",o.textContent="Edit",o}function r(o,n,s=!1,e=null){const t=document.getElementById(n),a=document.getElementById(o),c=e||a.value.trim();if(c==="")return;const u=l(c,!1,s);t.appendChild(u),e||(a.value=""),i()}function m(o,n){o.remove();const s=n?"doneTaskListMobile":"doneTaskListDesktop",e=document.getElementById(s),t=l(o.querySelector(".task-text").textContent||"",!0,n);e.appendChild(t),i()}function f(o,n){o.remove();const s=n?"taskListMobile":"taskListDesktop",e=document.getElementById(s),t=l(o.querySelector(".task-text").textContent||"",!1,n);e.appendChild(t),i()}function i(){const o=Array.from(document.querySelectorAll("#taskListDesktop .task-text")).map(t=>t.textContent||""),n=Array.from(document.querySelectorAll("#doneTaskListDesktop .task-text")).map(t=>t.textContent||"");localStorage.setItem("todoTasksDesktop",JSON.stringify(o)),localStorage.setItem("doneTasksDesktop",JSON.stringify(n)),console.log("Saved desktop tasks:",{todoTasksDesktop:o,doneTasksDesktop:n});const s=Array.from(document.querySelectorAll("#taskListMobile .task-text")).map(t=>t.textContent||""),e=Array.from(document.querySelectorAll("#doneTaskListMobile .task-text")).map(t=>t.textContent||"");localStorage.setItem("todoTasksMobile",JSON.stringify(s)),localStorage.setItem("doneTasksMobile",JSON.stringify(e)),console.log("Saved mobile tasks:",{todoTasksMobile:s,doneTasksMobile:e})}function b(){const o=JSON.parse(localStorage.getItem("todoTasksDesktop")||"[]"),n=JSON.parse(localStorage.getItem("doneTasksDesktop")||"[]");o.forEach(t=>r("taskInputDesktop","taskListDesktop",!1,t)),n.forEach(t=>r("taskInputDesktop","doneTaskListDesktop",!1,t));const s=JSON.parse(localStorage.getItem("todoTasksMobile")||"[]"),e=JSON.parse(localStorage.getItem("doneTasksMobile")||"[]");console.log("Todo tasks for mobile:",s),console.log("Done tasks for mobile:",e),s.forEach(t=>r("taskInputMobile","taskListMobile",!0,t)),e.forEach(t=>r("taskInputMobile","doneTaskListMobile",!0,t))}document.addEventListener("DOMContentLoaded",()=>{b(),document.getElementById("addTaskBtnDesktop").addEventListener("click",()=>r("taskInputDesktop","taskListDesktop")),document.getElementById("taskInputDesktop").addEventListener("keypress",t=>{t.key==="Enter"&&r("taskInputDesktop","taskListDesktop")}),document.getElementById("addTaskBtnMobile").addEventListener("click",()=>r("taskInputMobile","taskListMobile",!0)),document.getElementById("taskInputMobile").addEventListener("keypress",t=>{t.key==="Enter"&&r("taskInputMobile","taskListMobile",!0)}),window.addEventListener("beforeunload",i)});
